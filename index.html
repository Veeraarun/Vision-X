<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>VR Therapy</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <a-scene>

      <!-- Preload Assets -->
      <a-assets>
        <video id="therapyVideo"
               src="assets/models/WhatsApp Video 2025-05-08 at 15.33.58_ebf983c4 (1) (1) (1).mp4"
               autoplay
               loop
               muted
               playsinline
               webkit-playsinline
               crossorigin="anonymous">
        </video>
      </a-assets>

      <!-- Initial 360 Image Background -->
      <a-sky id="sky"
             src="assets/models/bryan-goff-IuyhXAia8EA-unsplash.jpg"
             rotation="0 -90 0">
      </a-sky>

      <!-- Hidden 360 Video Background -->
      <a-videosphere id="videoSphere"
                     src="#therapyVideo"
                     visible="false"
                     rotation="0 -90 0">
      </a-videosphere>

      <!-- Start Buttons -->
      <a-box id="startBtn1"
             position="-1.5 1.5 -3"
             width="1.2"
             height="0.5"
             depth="0.1"
             color="#2196F3">
        <a-text id="startText1"
                value="Start Therapy 1"
                position="0 0 0.06"
                align="center"
                width="2"
                color="white">                           
        </a-text>
      </a-box>

      <a-box id="startBtn2"
             position="0 1.2 -3"
             width="1.2"
             height="0.5"
             depth="0.1"
             color="#2196F3">
        <a-text id="startText2"
                value="Start Therapy 2"
                position="0 0 0.06"
                align="center"
                width="2"
                color="white">
        </a-text>
      </a-box>

      <a-box id="startBtn3"
             position="1.5 1.5 -3"
             width="1.2"
             height="0.5"
             depth="0.1"
             color="#2196F3">
        <a-text id="startText3"
                value="Start Therapy 3"
                position="0 0 0.06"
                align="center"
                width="2"
                color="white">
        </a-text>
      </a-box>

      <!-- Camera & Cursor -->
      <a-camera look-controls="touchEnabled: true; magicWindowTrackingEnabled: true">
        <a-cursor fuse="true"
                  fuse-timeout="1000"
                  color="black"
                  geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.015"
                  material="shader: flat">
        </a-cursor>
      </a-camera>
    </a-scene>

    <!-- Floating Message -->
    <div id="message" class="message hidden">Therapy Started!</div>
    
    <!-- UI Panels -->
    <div id="statsPanel" class="panel left-panel">
      <h3>Medical Stats</h3>
      <p>Heart Rate: 78 bpm</p>
      <p>Stress Level: Low</p>
      <p>Breathing: Normal</p>
    </div>

    <div id="chatPanel" class="panel right-panel">
      <h3>Chatbot</h3>
      <div id="chatWindow"></div>
      <input type="text" id="userInput" placeholder="Type here..." />
    </div>

    <!-- Main JS -->
    <script src="script.js"></script>
  </body>
</html>
