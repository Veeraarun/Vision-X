<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Vision-X</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <a-scene>

      <!-- Preload Assets -->
<a-assets>
  <audio id="lobbySound" src="assets\models\WhatsApp Audio 2025-05-09 at 08.22.23_790c9d59.mp3" preload="auto"></audio>

  <video id="therapyVideo"
         src="assets/models/videos/WhatsApp Video 2025-05-08 at 15.33.58_ebf983c4 (1) (online-video-cutter.com).mp4"
         autoplay
         loop
         playsinline
         webkit-playsinline
         crossorigin="anonymous">
  </video>
</a-assets>

<a-entity id="bgSound" sound="src: #lobbySound; autoplay: false; loop: true; volume: 0.6"></a-entity>


      <!-- Initial 360 Image Background -->
      <a-sky id="sky"
             src="assets/models/shot-panoramic-composition-living-room.jpg"
             rotation="0 -90 0">
      </a-sky>

      <!-- Hidden 360 Video Background -->
      <a-videosphere id="videoSphere"
                     src="#therapyVideo"
                     visible="false"
                     rotation="0 -90 0">
      </a-videosphere>

      <!-- Start Buttons -->
      <a-box id="startBtn1"
      position="-1.5 1.5 -3"
      width="1.2"
      height="0.5"
      depth="0.1"
      color="#795548"
      opacity="0.8"
      material="shader: flat; transparent: true">
 <a-text id="startText1"
         value="Fear of Height"
         position="0 0 0.06"
         align="center"
         width="2"
         color="white">
 </a-text>
</a-box>

<a-box id="startBtn2"
      position="0 1.2 -3"
      width="1.2"
      height="0.5"
      depth="0.1"
      color="#795548"
      opacity="0.8"
      material="shader: flat; transparent: true">
 <a-text id="startText2"
         value="Fear of Driving"
         position="0 0 0.06"
         align="center"
         width="2"
         color="white">
 </a-text>
</a-box>

<a-box id="startBtn3"
      position="1.5 1.5 -3"
      width="1.2"
      height="0.5"
      depth="0.1"
      color="#795548"
      opacity="0.8"
      material="shader: flat; transparent: true">
 <a-text id="startText3"
         value="Fear of Closed Space"
         position="0 0 0.06"
         align="center"
         width="2"
         color="white">
 </a-text>
</a-box>

      <!-- Camera & Cursor -->
      <a-camera look-controls="touchEnabled: true; magicWindowTrackingEnabled: true" position="0 1.6 0">
        <a-cursor fuse="true"
                  fuse-timeout="1000"
                  color="black"
                  geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.015"
                  material="shader: flat">
        </a-cursor>

        <!-- Stats Panel (Attached to Camera) -->
        <a-entity id="statsPanel" position="0.8 0.8 -1.5" scale="0.5 0.5 0.5">
          <a-plane width="1.4" height="0" color="#000" opacity="0.8"></a-plane>
          <a-text value="Heart Rate: 78 bpm\nStress: Low\nBreathing: Normal"
                  color="#FFF" width="1.2" position="-0.65 0.3 0.01">
          </a-text>
        </a-entity>
      </a-camera>
    </a-scene>

    <!-- Floating Message -->
    <div id="message" class="message hidden">Therapy Started!</div>
    
    </div>  
    
      <!-- VR cursor for gaze -->
      <a-cursor fuse="true" fuse-timeout="1000" color="black"
                geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.015"
                material="shader: flat">
      </a-cursor>
    </a-entity>
    
    <!-- Main JS -->
    <script src="script.js"></script>
  </body>
</html>
