<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Vision-X</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <a-scene raycaster="objects: .clickable">

      <!-- Assets -->
      <a-assets>
        <audio id="lobbySound" src="assets/models/lobby.mp3" preload="auto"></audio>
        <video id="therapyVideo"
               autoplay loop playsinline webkit-playsinline
               crossorigin="anonymous">
          <source src="assets/models/videos/intro.mp4" type="video/mp4" />
        </video>
      </a-assets>

      <a-entity id="bgSound" sound="src: #lobbySound; autoplay: false; loop: true; volume: 0.6"></a-entity>

      <!-- Sky -->
      <a-sky id="sky" src="assets/models/shot-panoramic-composition-living-room.jpg" rotation="0 -90 0"></a-sky>
      <a-videosphere id="videoSphere" src="#therapyVideo" visible="false" rotation="0 -90 0"></a-videosphere>

      <!-- Buttons Group -->
      <a-entity id="buttonGroup">
        <a-box id="startBtn1" class="clickable" position="-1.5 1.5 -3" width="1.2" height="0.5" depth="0.1" color="#795548" opacity="0.8" material="shader: flat; transparent: true">
          <a-text value="Fear of Height" position="0 0 0.06" align="center" width="2" color="white"></a-text>
        </a-box>
        <a-box id="startBtn2" class="clickable" position="0 1.2 -3" width="1.2" height="0.5" depth="0.1" color="#795548" opacity="0.8" material="shader: flat; transparent: true">
          <a-text value="Fear of Ocean" position="0 0 0.06" align="center" width="2" color="white"></a-text>
        </a-box>
        <a-box id="startBtn3" class="clickable" position="1.5 1.5 -3" width="1.2" height="0.5" depth="0.1" color="#795548" opacity="0.8" material="shader: flat; transparent: true">
          <a-text value="Fear of Driving" position="0 0 0.06" align="center" width="2" color="white"></a-text>
        </a-box>
      </a-entity>

      <!-- Go Back Button -->
      <a-box id="goBackBtn" position="0 0.5 -1" width="0.8" height="0.3" depth="0.1" color="#b71c1c" visible="false" opacity="0.85" material="shader: flat; transparent: true">
        <a-text value="Go Back" position="0 0 0.06" align="center" width="2" color="white"></a-text>
      </a-box>

      <!-- Camera -->
      <a-camera look-controls="touchEnabled: true; magicWindowTrackingEnabled: true" position="0 1.6 0">
        <a-cursor fuse="true" fuse-timeout="1000" color="black"
                  geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.015"
                  material="shader: flat"></a-cursor>

        <!-- Stats -->
        <a-entity id="statsPanel" position="0.8 0.8 -1.5" scale="0.5 0.5 0.5">
          <a-plane width="1.4" height="0" color="#000" opacity="0.8"></a-plane>
          <a-text value="Heart Rate: 78 bpm\nStress: Low\nBreathing: Normal" color="#FFF" width="1.2" position="-0.65 0.3 0.01"></a-text>
        </a-entity>
      </a-camera>
    </a-scene>

    <div id="message" class="message hidden">Therapy Started!</div>
    <script src="script.js"></script>
  </body>
</html>
